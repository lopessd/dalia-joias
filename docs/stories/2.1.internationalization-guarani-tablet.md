# Story 2.1: Implementar Internacionalização Completa (Guarani) e Otimização Responsiva para Tablet

## Status
- **Current Status**: READY FOR DEVELOPMENT
- **Assigned to**: Dev Agent
- **Priority**: High
- **Epic**: 2 - Melhorias de UX e Internacionalização
- **Story Points**: 8
- **Dependencies**: Story 1.3 - Funcionalidade de Perfil

## Story

**Como** um usuário que utiliza o sistema em tablet, celular e notebook  
**Eu quero** uma interface completamente em Guarani com valores monetários adequados e layout otimizado para todos os dispositivos  
**Para que** eu possa usar o sistema confortavelmente em qualquer dispositivo com minha língua nativa e valores monetários apropriados

### Contexto
O cliente utiliza principalmente tablet para acessar o sistema, mas também usa celular e notebook. É necessário:
1. Traduzir completamente o sistema para Guarani
2. Adaptar campos monetários para valores grandes (Guarani paraguaio)
3. Otimizar a responsividade especialmente para tablet
4. Reduzir largura da sidebar para maximizar área de conteúdo
5. Garantir que textos não quebrem inadequadamente

### Problemas Identificados
1. Sistema atualmente em português/inglês
2. Campos monetários inadequados para moeda paraguaia
3. Sidebar muito larga em tablets
4. Responsividade não otimizada especificamente para tablet
5. Falta de espaço para conteúdo principal em dispositivos menores

## Acceptance Criteria

### AC1: Internacionalização Completa para Guarani
- [x] **DADO** que o sistema está sendo acessado
- [x] **QUANDO** a página carrega
- [x] **ENTÃO** todos os textos devem estar em Guarani
- [x] **E** labels, botões, mensagens de erro e toasts devem estar traduzidos
- [x] **E** formatos de data e hora devem seguir padrão paraguaio

### AC2: Campos Monetários Adaptados
- [x] **DADO** que um campo monetário é exibido
- [x] **QUANDO** o usuário visualiza valores
- [x] **ENTÃO** deve mostrar símbolo "₲" (Guarani paraguaio)
- [x] **E** campos devem suportar valores até 999.999.999 ₲
- [x] **E** separadores de milhares devem usar ponto (999.999.999)
- [x] **E** inputs monetários devem ter largura adequada para valores grandes

### AC3: Sidebar Otimizada para Tablet
- [x] **DADO** que o usuário acessa em tablet (768px - 1024px)
- [x] **QUANDO** a sidebar é exibida
- [x] **ENTÃO** deve ter largura reduzida (de 256px para 200px)
- [x] **E** ícones devem permanecer visíveis e clicáveis
- [x] **E** textos do menu não devem quebrar
- [x] **E** mais espaço deve estar disponível para conteúdo principal

### AC4: Responsividade Aprimorada para Todos os Dispositivos
- [x] **DADO** que o usuário acessa em diferentes dispositivos
- [x] **QUANDO** redimensiona a tela
- [x] **ENTÃO** layout deve se adaptar fluentemente em:
  - Mobile (< 768px): Sidebar colapsada
  - Tablet (768px - 1024px): Sidebar reduzida
  - Desktop (> 1024px): Sidebar padrão
- [x] **E** conteúdo deve utilizar máximo de espaço disponível

### AC5: Cards e Componentes Otimizados
- [x] **DADO** que cards são exibidos em diferentes telas
- [x] **QUANDO** visualizados em tablet
- [x] **ENTÃO** devem ter espaçamento otimizado
- [x] **E** textos devem ter tamanho legível
- [x] **E** botões devem ser facilmente clicáveis (min 44px)
- [x] **E** valores monetários devem ter espaço adequado

### AC6: Navegação Touch-Friendly
- [x] **DADO** que o usuário usa touch (tablet/mobile)
- [x] **QUANDO** interage com elementos
- [x] **ENTÃO** todos os botões devem ter área mínima de toque de 44px
- [x] **E** espaçamento adequado entre elementos clicáveis
- [x] **E** feedback visual para interações touch

## Tasks / Subtasks

### Tarefa 1: Configurar Sistema de Internacionalização
- [ ] Instalar e configurar react-i18next
- [ ] Criar estrutura de arquivos de tradução
- [ ] Configurar detecção automática de idioma
- [ ] Implementar hook useTranslation em componentes
- [ ] Criar arquivo de tradução base em Guarani (`/locales/gn/translation.json`)

### Tarefa 2: Traduzir Todas as Interfaces
- [ ] **Admin Dashboard:**
  - Traduzir "Dashboard", "Joias", "Revendedores", "Mostruário", "Perfil"
  - Traduzir cards: "Total de Produtos", "Quantidade Estoque", "Valor de Custo", "Valor de Venda"
  - Traduzir filtros e botões
- [ ] **Gestão de Joias:**
  - Traduzir "Nova Joia", "Editar", "Excluir"
  - Traduzir formulários de criação/edição
  - Traduzir categorias e status
- [ ] **Perfil:**
  - Traduzir "Informações Pessoais", "Alterar Senha"
  - Traduzir labels de formulário
- [ ] **Mensagens do Sistema:**
  - Traduzir toasts de sucesso/erro
  - Traduzir mensagens de validação

### Tarefa 3: Implementar Formatação Monetária Paraguaia
- [ ] Criar utilitário para formatação de moeda guarani
- [ ] Implementar separadores corretos (ponto para milhares)
- [ ] Adicionar símbolo ₲ em todos os valores monetários
- [ ] Aumentar largura de inputs monetários
- [ ] Configurar máscara de input para valores grandes
- [ ] Ajustar validações para aceitar valores até 999.999.999

### Tarefa 4: Otimizar Sidebar para Tablet
- [ ] Reduzir largura da sidebar de 256px para 200px em tablets
- [ ] Ajustar espaçamento interno dos itens do menu
- [ ] Otimizar tamanho de ícones para menor largura
- [ ] Garantir que textos não quebrem inadequadamente
- [ ] Testar navegação touch na sidebar
- [ ] Implementar transições suaves para mudanças de largura

### Tarefa 5: Melhorar Responsividade Geral
- [ ] **Breakpoints Otimizados:**
  - Mobile: < 768px (sidebar colapsada)
  - Tablet: 768px - 1024px (sidebar 200px)
  - Desktop: > 1024px (sidebar 256px)
- [ ] **Grid e Layout:**
  - Ajustar grid de cards para diferentes telas
  - Otimizar espaçamento entre elementos
  - Melhorar utilização de espaço vertical
- [ ] **Tabelas Responsivas:**
  - Implementar scroll horizontal em tabelas grandes
  - Cards alternativos para dados tabulares em mobile

### Tarefa 6: Otimizar Componentes para Touch
- [ ] Aumentar área de toque de botões para mínimo 44px
- [ ] Adicionar espaçamento adequado entre elementos clicáveis
- [ ] Implementar feedback visual para toques
- [ ] Otimizar formulários para entrada touch
- [ ] Melhorar seletores dropdown para touch

### Tarefa 7: Ajustar Tipografia e Espaçamento
- [ ] Definir tamanhos de fonte otimizados para cada breakpoint
- [ ] Ajustar line-height para melhor legibilidade
- [ ] Otimizar espaçamento entre seções
- [ ] Garantir contraste adequado em todos os tamanhos
- [ ] Implementar texto responsivo que escala adequadamente

### Tarefa 8: Testar Responsividade Completa
- [ ] Testar em tablet real (iPad, tablets Android)
- [ ] Testar em diferentes celulares
- [ ] Testar em notebook/desktop
- [ ] Validar orientação landscape e portrait em tablet
- [ ] Testar performance em dispositivos mais lentos

## Dev Notes

### Estrutura de Internacionalização
```typescript
// Configuração i18next
import i18n from 'i18next'
import { initReactI18next } from 'react-i18next'

// Arquivo de tradução /locales/gn/translation.json
{
  "common": {
    "save": "Ñongatu",
    "cancel": "Heja",
    "edit": "Mbosako'i",
    "delete": "Mbogue",
    "search": "Heka"
  },
  "nav": {
    "dashboard": "Panel Principal",
    "joias": "Joyas",
    "revendedores": "Ñemuha",
    "mostruario": "Techaukaha",
    "perfil": "Perfil"
  },
  "currency": {
    "symbol": "₲",
    "format": "{{amount}} ₲"
  }
}
```

### Formatação Monetária
```typescript
// Utilitário para moeda guarani
export const formatGuaraniCurrency = (amount: number): string => {
  return new Intl.NumberFormat('es-PY', {
    style: 'currency',
    currency: 'PYG',
    minimumFractionDigits: 0,
    maximumFractionDigits: 0
  }).format(amount)
}

// Componente de input monetário
<Input
  type="text"
  placeholder="0 ₲"
  className="text-right font-mono min-w-[200px]"
  maxLength={12} // Para valores até 999.999.999
/>
```

### Breakpoints Responsivos
```css
/* Tailwind CSS customizado */
@layer utilities {
  .sidebar-mobile { width: 0; }
  .sidebar-tablet { width: 200px; }
  .sidebar-desktop { width: 256px; }
  
  .content-mobile { margin-left: 0; }
  .content-tablet { margin-left: 200px; }
  .content-desktop { margin-left: 256px; }
}

/* Media queries */
@media (max-width: 767px) { /* Mobile */ }
@media (min-width: 768px) and (max-width: 1023px) { /* Tablet */ }
@media (min-width: 1024px) { /* Desktop */ }
```

### Traduções Específicas para Joias
- "Anillo" → "Sortija"
- "Pulsera" → "Pulsera"
- "Collar" → "Collar"
- "Arete" → "Arete"
- "Oro" → "Kuarepoti"
- "Plata" → "Plata"

### Valores Monetários Paraguaios
- Guarani paraguaio não usa centavos
- Valores típicos: ₲ 50.000 - ₲ 5.000.000 para joias
- Separador de milhares: ponto (.)
- Exemplo: ₲ 1.500.000 (um milhão quinhentos mil guaranis)

### Componentes Afetados
1. **Sidebar**: `components/layout/sidebar.tsx`
2. **Cards**: Todos os cards de dashboard e produtos
3. **Formulários**: Inputs monetários e de texto
4. **Tabelas**: Headers e células
5. **Botões**: Tamanhos e espaçamento
6. **Toast**: Mensagens de feedback

### Considerações de Performance
- Lazy loading de traduções
- Tree shaking de traduções não utilizadas
- Otimização de imagens para diferentes densidades
- Minimização de re-renders durante mudanças de breakpoint

### Acessibilidade
- Manter suporte a leitores de tela
- Contraste adequado em todos os tamanhos
- Navegação por teclado funcional
- Focus indicators visíveis

## Testing

### Cenários de Teste

#### Teste 1: Internacionalização
- Verificar todas as traduções carregam corretamente
- Testar mudança de idioma (se implementado)
- Validar formatação de datas paraguaia
- Verificar caracteres especiais do Guarani

#### Teste 2: Formatação Monetária
- Testar valores pequenos: ₲ 1.000
- Testar valores médios: ₲ 500.000
- Testar valores grandes: ₲ 50.000.000
- Verificar inputs monetários suportam entrada correta
- Validar separadores de milhares

#### Teste 3: Responsividade em Tablet
- Testar em iPad (768px x 1024px)
- Testar tablets Android variados
- Verificar orientação portrait e landscape
- Validar sidebar reduzida funciona corretamente
- Testar touch interactions

#### Teste 4: Responsividade Geral
- Mobile: iPhone, Android phones
- Tablet: iPad, tablets Android
- Desktop: 1080p, 1440p, 4K
- Testar redimensionamento dinâmico
- Verificar breakpoints funcionam suavemente

#### Teste 5: Usabilidade Touch
- Testar todos os botões são facilmente clicáveis
- Verificar espaçamento adequado entre elementos
- Validar feedback visual funciona
- Testar formulários com teclado virtual

### Critérios de Aceitação para Testes
- Todas as traduções devem estar presentes e corretas
- Valores monetários devem ser formatados adequadamente
- Sidebar deve ter largura correta em cada breakpoint
- Sistema deve ser utilizável confortavelmente em tablet
- Performance deve permanecer boa em todos os dispositivos

## Change Log

### v1.0 - 2025-08-30
- **CREATED**: Story criada para internacionalização Guarani e otimização responsiva
- **SCOPE**: Tradução completa, formatação monetária paraguaia, otimização tablet
- **PRIORITY**: Alta - necessidade específica do cliente
- **TARGET**: Melhorar significativamente UX em tablet e suporte à língua Guarani

---

**Estimativa de Desenvolvimento**: 3-4 dias  
**Risco**: Médio - requer tradução precisa e testes extensivos  
**Valor de Negócio**: Muito Alto - atende necessidades específicas do cliente paraguaio  
**Impacto na UX**: Transformacional - sistema adaptado à realidade local
